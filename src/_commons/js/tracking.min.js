!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){e.exports=n(6)},function(e,t){"use strict";function n(e){var t,n=new RegExp("(^| )"+e+"=([^;]*)(;|$)");return t=document.cookie.match(n),t?unescape(t[2]):""}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=(0,y.searchParse)();e.forEach(function(e){var r=e.key,o=e.queryKey||r,a=e.frozen,i=e.value;a?i=a:void 0!==n[o]?i=n[o]:void 0!==h["default"].get(o)&&(i=h["default"].get(o)),void 0!==i&&(t[r]=i)})}function a(e){var t=O.event_log[0];o(M,t),t.event_time=(0,l["default"])(new Date,"yyyy-mm-dd HH:MM:ss"),t.promotion_from=(0,v.getPromotion)(),t.event_id=e,t.user_id||(t.user_id=(0,b["default"])("uid"));var n=(0,m.getEventData)();n.forEach(function(e){t[e.key]=e.value});var r=(0,y.searchParse)();Object.keys(r).forEach(function(e){t[e]||(t[e]=r[e])})}function i(e){_?o(x,O):((0,y.uniqueU)(),O.u_uid=(0,b["default"])("U_UID"),O.browser_type=(0,y.getBrowserType)(),O.os_version=(0,y.detectOS)(),O.browser_ver=window.navigator.appVersion||"")}function s(){this.successCallbacks=[]}function u(e,t){var n=new s,r=O.event_log[0];if(a(e),t)for(var o in t)r[o]=t[o];var i=p["default"]+"/ffan/v1/mxlog?";i+="content="+JSON.stringify(O)+"&type="+w;var u=new Image;return u.onload=u.onerror=function(){u=null,n.resolve()},setTimeout(function(){u&&(u=null,n.resolve())},1e3),u.src=i,O.event_log[0]={},n}Object.defineProperty(t,"__esModule",{value:!0});var c=n(5),h=r(c),f=n(10),l=r(f),d=n(7),p=r(d),m=n(4),v=n(9),y=n(3),g=n(1),b=r(g),_=(0,y.isFfan)(),w=70;(0,v.setPromotion)();var O={event_log:[{}]},x=[{key:"app_version"},{key:"os_version",queryKey:"app_type"},{key:"appkey",frozen:"H5"},{key:"device_id",queryKey:"ddId"}],M=[{key:"user_id",queryKey:"FFUDID"},{key:"plaza_id",queryKey:"plazaId"},{key:"city_id",queryKey:"cityId"},{key:"product_id",queryKey:"productId"}];i(),s.prototype={then:function(e,t){e&&this.successCallbacks.push(e)},resolve:function(){if(this.successCallbacks.length){var e=this.successCallbacks.shift();e&&"function"==typeof e&&e()}}},t["default"]=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=navigator.userAgent;navigator.appVersion;return e.indexOf("Trident")>-1?"trident":e.indexOf("Presto")>-1?"Presto":e.indexOf("AppleWebKit")>-1?"webKit":e.indexOf("Gecko")>-1&&-1==e.indexOf("KHTML")?"gecko":e.match(/AppleWebKit.*Mobile.*/)||e.match(/AppleWebKit/)?"mobile":e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?"ios":e.indexOf("Android")>-1||e.indexOf("Linux")>-1?"android":e.indexOf("iPhone")>-1||e.indexOf("Mac")>-1?"iPhone":"other"}function a(){var e=navigator.userAgent.toLowerCase(),t="win32"===navigator.platform.toLowerCase()||"windows"===navigator.platform.toLowerCase(),n=-1!=e.indexOf("ipad"),r=-1!=e.indexOf("iphone")||-1!=e.indexOf("ios"),o="x11"===navigator.platform.toLowerCase()&&!t&&!isMac,a=String(navigator.platform.toLowerCase()).indexOf("linux")>-1,i=-1!=e.indexOf("android"),s=-1!=e.indexOf("windows ce"),u=-1!=e.indexOf("windows mobile");return i?"Android":n?"Ipad":r?"Iphone":o?"Unix":a?"Linux":s||u?"wm":"other"}function i(){function e(){for(var e=[],t="0123456789abcdef",n=0;36>n;n++)e[n]=t.substr(Math.floor(16*Math.random()),1);e[14]="4",e[19]=t.substr(3&e[19]|8,1),e[8]=e[13]=e[18]=e[23]="-";var r=e.join("");return r}if(!(0,h["default"])("U_UID")){var t=new Date;t.setDate(t.getDate()+1),t.setHours(0),t.setMinutes(0),t.setMilliseconds(0),t.setSeconds(0),document.cookie="U_UID="+e()+";expires="+t.toUTCString()}}function s(){var e={},t=window.location.search;if(t&&t.length>1)for(var t=t.substring(1),n=t.split("&"),r=0;r<n.length;r++)if(n[r]){var o=n[r].split("=");e[o[0]]="undefined"==typeof o[1]?"":o[1]}return e}function u(){var e=navigator.userAgent.toLowerCase();return e.indexOf("wanhui")>-1||e.indexOf("wanda")>-1||e.indexOf("feifan")>-1}Object.defineProperty(t,"__esModule",{value:!0}),t.isFfan=t.searchParse=t.uniqueU=t.detectOS=t.getBrowserType=void 0;var c=n(1),h=r(c);t.getBrowserType=o,t.detectOS=a,t.uniqueU=i,t.searchParse=s,t.isFfan=u,t["default"]={getBrowserType:o,detectOS:a,uniqueU:i,searchParse:s,isFfan:u}},function(e,t){"use strict";function n(e){Object.keys(e).forEach(function(t){o[t]=e[t]})}function r(){var e=[];return Object.keys(o).forEach(function(t){e.push({key:t,value:o[t]})}),e}Object.defineProperty(t,"__esModule",{value:!0});var o={};t.setEventData=n,t.getEventData=r,t["default"]={setEventData:n,getEventData:r}},function(e,t,n){var r,o,a;(function(n){"use strict";!function(n,i){o=[],r=i,a="function"==typeof r?r.apply(t,o):r,!(void 0!==a&&(e.exports=a))}(this,function(){function e(){try{return i in o&&o[i]}catch(e){return!1}}var t,r={},o="undefined"!=typeof window?window:n,a=o.document,i="localStorage",s="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var o=r.get(e,t);n(o),r.set(e,o)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=o[i],r.set=function(e,n){return void 0===n?r.remove(e):(t.setItem(e,r.serialize(n)),n)},r.get=function(e,n){var o=r.deserialize(t.getItem(e));return void 0===o?n:o},r.remove=function(e){t.removeItem(e)},r.clear=function(){t.clear()},r.getAll=function(){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=function(e){for(var n=0;n<t.length;n++){var o=t.key(n);e(o,r.get(o))}};else if(a&&a.documentElement.addBehavior){var u,c;try{c=new ActiveXObject("htmlfile"),c.open(),c.write("<"+s+">document.w=window</"+s+'><iframe src="/favicon.ico"></iframe>'),c.close(),u=c.w.frames[0].document,t=u.createElement("div")}catch(h){t=a.createElement("div"),u=a.body}var f=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),u.appendChild(t),t.addBehavior("#default#userData"),t.load(i);var o=e.apply(r,n);return u.removeChild(t),o}},l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),d=function(e){return e.replace(/^d/,"___$&").replace(l,"___")};r.set=f(function(e,t,n){return t=d(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(i),n)}),r.get=f(function(e,t,n){t=d(t);var o=r.deserialize(e.getAttribute(t));return void 0===o?n:o}),r.remove=f(function(e,t){t=d(t),e.removeAttribute(t),e.save(i)}),r.clear=f(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(i)}),r.getAll=function(e){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=f(function(e,t){for(var n,o=e.XMLDocument.documentElement.attributes,a=0;n=o[a];++a)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var p="__storejs__";r.set(p,p),r.get(p)!=p&&(r.disabled=!0),r.remove(p)}catch(h){r.disabled=!0}return r.enabled=!r.disabled,r})}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=r(o),i=n(8),s=r(i),u=n(4);(0,s["default"])(),window.tracking=a["default"],window.trackingSet=u.setEventData,t["default"]={send:a["default"],setEventData:u.setEventData}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=location.hostname.indexOf(".sit.")>-1?"http://api.sit.ffan.com/":"http://api.ffan.com/";t["default"]=n},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function parseTrackingData(event_obj){try{0===event_obj.indexOf("{")&&event_obj.lastIndexOf("}")===event_obj.length-1?(event_obj=eval("("+event_obj+")"),Object.keys(event_obj).forEach(function(e){(0,_send2["default"])(e,event_obj[e])})):(0,_send2["default"])(event_obj)}catch(e){}}function bindLoadTracking(){if(document&&document.body){var e=document.body.getAttribute("tracking-load");e&&parseTrackingData(e)}}function bindClickTrancking(){"off"!==document.body.getAttribute("tracking-auto")&&window.addEventListener("click",function(e){for(var t=e.target;t;){if("function"==typeof t.getAttribute&&t.getAttribute("tracking-click"))return(0,_send2["default"])(t.getAttribute("tracking-click")),!0;t=t.parentNode}return!0},!0)}function bindAllTracking(){bindLoadTracking(),bindClickTrancking()}function addAutoTracking(){"complete"===document.readyState?bindAllTracking():window.addEventListener("load",bindAllTracking,!0)}Object.defineProperty(exports,"__esModule",{value:!0});var _send=__webpack_require__(2),_send2=_interopRequireDefault(_send);exports["default"]=addAutoTracking},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=(new Date).getTime()+60*e*60*1e3;return new Date(t).getTime()}function a(){var e=(0,h.searchParse)(),t=e.promotion_from;t&&(f=t,c["default"].set("refer",JSON.stringify({promotion_from:t,expired:o(1)})))}function i(){if(f)return f;var e={},t=(new Date).getTime();return c["default"].get("refer")?(e=JSON.parse(c["default"].get("refer")),t>=e.expired?(c["default"].remove("refer"),""):e.promotion_from):""}Object.defineProperty(t,"__esModule",{value:!0}),t.setPromotion=t.getPromotion=void 0;var s=n(15),u=(r(s),n(5)),c=r(u),h=n(3);t.getPromotion=i,t.setPromotion=a,t["default"]={getPromotion:i,setPromotion:a};var f=void 0},function(e,t,n){var r;!function(o){"use strict";function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}function i(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var o=(t-n)/6048e5;return 1+Math.floor(o)}function s(e){var t=e.getDay();return 0===t&&(t=7),t}function u(e){return null===e?"null":void 0===e?"undefined":"object"!=typeof e?typeof e:Array.isArray(e)?"array":{}.toString.call(e).slice(8,-1).toLowerCase()}var c=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|'[^']*'|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,o,h,f){if(1!==arguments.length||"string"!==u(r)||/\d/.test(r)||(o=r,r=void 0),r=r||new Date,r instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");o=String(c.masks[o]||o||c.masks["default"]);var l=o.slice(0,4);"UTC:"!==l&&"GMT:"!==l||(o=o.slice(4),h=!0,"GMT:"===l&&(f=!0));var d=h?"getUTC":"get",p=r[d+"Date"](),m=r[d+"Day"](),v=r[d+"Month"](),y=r[d+"FullYear"](),g=r[d+"Hours"](),b=r[d+"Minutes"](),_=r[d+"Seconds"](),w=r[d+"Milliseconds"](),O=h?0:r.getTimezoneOffset(),x=i(r),M=s(r),T={d:p,dd:a(p),ddd:c.i18n.dayNames[m],dddd:c.i18n.dayNames[m+7],m:v+1,mm:a(v+1),mmm:c.i18n.monthNames[v],mmmm:c.i18n.monthNames[v+12],yy:String(y).slice(2),yyyy:y,h:g%12||12,hh:a(g%12||12),H:g,HH:a(g),M:b,MM:a(b),s:_,ss:a(_),l:a(w,3),L:a(Math.round(w/10)),t:12>g?"a":"p",tt:12>g?"am":"pm",T:12>g?"A":"P",TT:12>g?"AM":"PM",Z:f?"GMT":h?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(O>0?"-":"+")+a(100*Math.floor(Math.abs(O)/60)+Math.abs(O)%60,4),S:["th","st","nd","rd"][p%10>3?0:(p%100-p%10!=10)*p%10],W:x,N:M};return o.replace(e,function(e){return e in T?T[e]:e.slice(1,e.length-1)})}}();c.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},c.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},r=function(){return c}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)},function(e,t){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,o){t=t||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var i=/\+/g;e=e.split(t);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;u>c;++c){var h,f,l,d,p=e[c].replace(i,"%20"),m=p.indexOf(r);m>=0?(h=p.substr(0,m),f=p.substr(m+1)):(h=p,f=""),l=decodeURIComponent(h),d=decodeURIComponent(f),n(a,l)?Array.isArray(a[l])?a[l].push(d):a[l]=[a[l],d]:a[l]=d}return a}},function(e,t){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,o){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map(function(o){var a=encodeURIComponent(n(o))+r;return Array.isArray(e[o])?e[o].map(function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[o]))}).join(t):o?encodeURIComponent(n(o))+r+encodeURIComponent(n(e)):""}},function(e,t,n){"use strict";t.decode=t.parse=n(11),t.encode=t.stringify=n(12)},function(e,t,n){var r;(function(e,o){!function(a){function i(e){throw RangeError(P[e])}function s(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function u(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]),e=e.replace(E,".");var o=e.split("."),a=s(o,t).join(".");return r+a}function c(e){for(var t,n,r=[],o=0,a=e.length;a>o;)t=e.charCodeAt(o++),t>=55296&&56319>=t&&a>o?(n=e.charCodeAt(o++),56320==(64512&n)?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--)):r.push(t);return r}function h(e){return s(e,function(e){var t="";return e>65535&&(e-=65536,t+=U(e>>>10&1023|55296),e=56320|1023&e),t+=U(e)}).join("")}function f(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:w}function l(e,t){return e+22+75*(26>e)-((0!=t)<<5)}function d(e,t,n){var r=0;for(e=n?S(e/T):e>>1,e+=S(e/t);e>I*x>>1;r+=w)e=S(e/I);return S(r+(I+1)*e/(e+M))}function p(e){var t,n,r,o,a,s,u,c,l,p,m=[],v=e.length,y=0,g=k,b=A;for(n=e.lastIndexOf(j),0>n&&(n=0),r=0;n>r;++r)e.charCodeAt(r)>=128&&i("not-basic"),m.push(e.charCodeAt(r));for(o=n>0?n+1:0;v>o;){for(a=y,s=1,u=w;o>=v&&i("invalid-input"),c=f(e.charCodeAt(o++)),(c>=w||c>S((_-y)/s))&&i("overflow"),y+=c*s,l=b>=u?O:u>=b+x?x:u-b,!(l>c);u+=w)p=w-l,s>S(_/p)&&i("overflow"),s*=p;t=m.length+1,b=d(y-a,t,0==a),S(y/t)>_-g&&i("overflow"),g+=S(y/t),y%=t,m.splice(y++,0,g)}return h(m)}function m(e){var t,n,r,o,a,s,u,h,f,p,m,v,y,g,b,M=[];for(e=c(e),v=e.length,t=k,n=0,a=A,s=0;v>s;++s)m=e[s],128>m&&M.push(U(m));for(r=o=M.length,o&&M.push(j);v>r;){for(u=_,s=0;v>s;++s)m=e[s],m>=t&&u>m&&(u=m);for(y=r+1,u-t>S((_-n)/y)&&i("overflow"),n+=(u-t)*y,t=u,s=0;v>s;++s)if(m=e[s],t>m&&++n>_&&i("overflow"),m==t){for(h=n,f=w;p=a>=f?O:f>=a+x?x:f-a,!(p>h);f+=w)b=h-p,g=w-p,M.push(U(l(p+b%g,0))),h=S(b/g);M.push(U(l(h,0))),a=d(n,y,r==o),n=0,++r}++n,++t}return M.join("")}function v(e){return u(e,function(e){return D.test(e)?p(e.slice(4).toLowerCase()):e})}function y(e){return u(e,function(e){return C.test(e)?"xn--"+m(e):e})}var g=("object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof o&&o);g.global!==g&&g.window!==g&&g.self!==g||(a=g);var b,_=2147483647,w=36,O=1,x=26,M=38,T=700,A=72,k=128,j="-",D=/^xn--/,C=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=w-O,S=Math.floor,U=String.fromCharCode;b={version:"1.3.2",ucs2:{decode:c,encode:h},decode:p,encode:m,toASCII:y,toUnicode:v},r=function(){return b}.call(t,n,t,e),!(void 0!==r&&(e.exports=r))}(this)}).call(t,n(16)(e),function(){return this}())},function(e,t,n){function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function o(e,t,n){if(e&&c(e)&&e instanceof r)return e;var o=new r;return o.parse(e,t,n),o}function a(e){return u(e)&&(e=o(e)),e instanceof r?e.format():r.prototype.format.call(e)}function i(e,t){return o(e,!1,!0).resolve(t)}function s(e,t){return e?o(e,!1,!0).resolveObject(t):t}function u(e){return"string"==typeof e}function c(e){return"object"==typeof e&&null!==e}function h(e){return null===e}function f(e){return null==e}var l=n(14);t.parse=o,t.resolve=i,t.resolveObject=s,t.format=a,t.Url=r;var d=/^([a-z0-9.+-]+:)/i,p=/:[0-9]*$/,m=["<",">",'"',"`"," ","\r","\n","	"],v=["{","}","|","\\","^","`"].concat(m),y=["'"].concat(v),g=["%","/","?",";","#"].concat(y),b=["/","?","#"],_=255,w=/^[a-z0-9A-Z_-]{0,63}$/,O=/^([a-z0-9A-Z_-]{0,63})(.*)$/,x={javascript:!0,"javascript:":!0},M={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A=n(13);r.prototype.parse=function(e,t,n){if(!u(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e;r=r.trim();var o=d.exec(r);if(o){o=o[0];var a=o.toLowerCase();this.protocol=a,r=r.substr(o.length)}if(n||o||r.match(/^\/\/[^@\/]+@[^@\/]+/)){var i="//"===r.substr(0,2);!i||o&&M[o]||(r=r.substr(2),this.slashes=!0)}if(!M[o]&&(i||o&&!T[o])){for(var s=-1,c=0;c<b.length;c++){var h=r.indexOf(b[c]);-1!==h&&(-1===s||s>h)&&(s=h)}var f,p;p=-1===s?r.lastIndexOf("@"):r.lastIndexOf("@",s),-1!==p&&(f=r.slice(0,p),r=r.slice(p+1),this.auth=decodeURIComponent(f)),s=-1;for(var c=0;c<g.length;c++){var h=r.indexOf(g[c]);-1!==h&&(-1===s||s>h)&&(s=h)}-1===s&&(s=r.length),this.host=r.slice(0,s),r=r.slice(s),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var v=this.hostname.split(/\./),c=0,k=v.length;k>c;c++){var j=v[c];if(j&&!j.match(w)){for(var D="",C=0,E=j.length;E>C;C++)D+=j.charCodeAt(C)>127?"x":j[C];if(!D.match(w)){var P=v.slice(0,c),I=v.slice(c+1),S=j.match(O);S&&(P.push(S[1]),I.unshift(S[2])),I.length&&(r="/"+I.join(".")+r),this.hostname=P.join(".");break}}}if(this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),!m){for(var U=this.hostname.split("."),q=[],c=0;c<U.length;++c){var H=U[c];q.push(H.match(/[^A-Za-z0-9_-]/)?"xn--"+l.encode(H):H)}this.hostname=q.join(".")}var L=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+L,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==r[0]&&(r="/"+r))}if(!x[a])for(var c=0,k=y.length;k>c;c++){var z=y[c],N=encodeURIComponent(z);N===z&&(N=escape(z)),r=r.split(z).join(N)}var R=r.indexOf("#");-1!==R&&(this.hash=r.substr(R),r=r.slice(0,R));var K=r.indexOf("?");if(-1!==K?(this.search=r.substr(K),this.query=r.substr(K+1),t&&(this.query=A.parse(this.query)),r=r.slice(0,K)):t&&(this.search="",this.query={}),r&&(this.pathname=r),T[a]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",H=this.search||"";this.path=L+H}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&c(this.query)&&Object.keys(this.query).length&&(a=A.stringify(this.query));var i=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||T[t])&&o!==!1?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),i&&"?"!==i.charAt(0)&&(i="?"+i),n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),i=i.replace("#","%23"),t+o+n+i+r},r.prototype.resolve=function(e){return this.resolveObject(o(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(u(e)){var t=new r;t.parse(e,!1,!0),e=t}var n=new r;if(Object.keys(this).forEach(function(e){n[e]=this[e]},this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach(function(t){"protocol"!==t&&(n[t]=e[t])}),T[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!T[e.protocol])return Object.keys(e).forEach(function(t){n[t]=e[t]}),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||M[e.protocol])n.pathname=e.pathname;else{for(var o=(e.pathname||"").split("/");o.length&&!(e.host=o.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),n.pathname=o.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var a=n.pathname||"",i=n.search||"";n.path=a+i}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),c=e.host||e.pathname&&"/"===e.pathname.charAt(0),l=c||s||n.host&&e.pathname,d=l,p=n.pathname&&n.pathname.split("/")||[],o=e.pathname&&e.pathname.split("/")||[],m=n.protocol&&!T[n.protocol];if(m&&(n.hostname="",n.port=null,n.host&&(""===p[0]?p[0]=n.host:p.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===o[0]?o[0]=e.host:o.unshift(e.host)),e.host=null),l=l&&(""===o[0]||""===p[0])),c)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,p=o;else if(o.length)p||(p=[]),p.pop(),p=p.concat(o),n.search=e.search,n.query=e.query;else if(!f(e.search)){if(m){n.hostname=n.host=p.shift();var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return n.search=e.search,n.query=e.query,h(n.pathname)&&h(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!p.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var y=p.slice(-1)[0],g=(n.host||e.host)&&("."===y||".."===y)||""===y,b=0,_=p.length;_>=0;_--)y=p[_],"."==y?p.splice(_,1):".."===y?(p.splice(_,1),b++):b&&(p.splice(_,1),b--);if(!l&&!d)for(;b--;b)p.unshift("..");!l||""===p[0]||p[0]&&"/"===p[0].charAt(0)||p.unshift(""),g&&"/"!==p.join("/").substr(-1)&&p.push("");var w=""===p[0]||p[0]&&"/"===p[0].charAt(0);if(m){n.hostname=n.host=w?"":p.length?p.shift():"";var v=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;v&&(n.auth=v.shift(),n.host=n.hostname=v.shift())}return l=l||n.host&&p.length,l&&!w&&p.unshift(""),p.length?n.pathname=p.join("/"):(n.pathname=null,n.path=null),h(n.pathname)&&h(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},r.prototype.parseHost=function(){var e=this.host,t=p.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}}]);
